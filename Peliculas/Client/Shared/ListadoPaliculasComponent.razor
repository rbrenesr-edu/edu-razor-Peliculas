<div class="mt-3">


  
    <div>
        @* <input type="checkbox"  @onchange="@( ()=> MostrarBotones = !MostrarBotones )"/> *@
        <input type="checkbox" @bind="MostrarBotones" />
        <span>Mostrar botones</span>
    </div>



    <ListadoGenericoComponent Listado="Peliculas">
        <HayRegistros Context="pelicula">
            <PeliculaComponent Pelicula=pelicula
                               MostrarBotones="MostrarBotones"
                               EliminarPelicula="ElininarPelicula" />
        </HayRegistros>
    </ListadoGenericoComponent>



    
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(3000);
    }

    #region Parameters

    [Parameter]
    [EditorRequired]
    public List<Pelicula>? Peliculas { get; set; }

    /*Es la forma de declarar un RenderFragment por default*/
    // [Parameter]
    // public RenderFragment? ChildContent { get; set; }


    #endregion


    bool MostrarBotones = false;

    private void ElininarPelicula(Pelicula pelicula)
    {
        Peliculas!.Remove(pelicula);
    }

    protected override void OnInitialized()
    {
        Console.WriteLine("OnInitialized");
    }

    protected override void OnParametersSet()
    {
        Console.WriteLine("OnParametersSet");
    }


    protected override void OnAfterRender(bool firstRender)
    {
        Console.WriteLine("OnAfterRender: Primera vez" + firstRender);
    }

    protected override bool ShouldRender()
    {
        Console.WriteLine("ShouldRender");
        //return base.ShouldRender();
        return true;
    }
}
